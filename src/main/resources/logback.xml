<?xml version="1.0" encoding="UTF-8"?>

<configuration debug="true">
   <turboFilter class="ch.qos.logback.classic.turbo.MarkerFilter">
       <Marker><![CDATA[--##--REST_JSON_RESULT--##--]]></Marker>
       <!--
       <OnMatch>DENY</OnMatch>
        -->
       <OnMatch>NEUTRAL</OnMatch>
   </turboFilter>

   <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
       <Target>System.out</Target>
       <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
           <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - [%X{user_id}] %msg{4096}%n</pattern>
       </encoder>
   </appender>

   <appender name="BPOUT" class="ch.qos.logback.core.rolling.RollingFileAppender">
       <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
           <level>DEBUG</level>
       </filter>
       <file>log/fb.log</file>
       <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
           <fileNamePattern>log/fb.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
           <timeBasedFileNamingAndTriggeringPolicy
                 class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
               <maxFileSize>10MB</maxFileSize>
           </timeBasedFileNamingAndTriggeringPolicy>
       </rollingPolicy>

       <encoder>
           <charset>UTF-8</charset>
           <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger - [%X{user_id}] %msg{4096}%n</pattern>
       </encoder>
   </appender>

   <logger name="jp.co.fb">
       <level value="DEBUG" />
   </logger>
   <logger name="com.ibatis">
      <level value="debug" />
   </logger>

   <logger name="com.ibatis.common.jdbc.SimpleDataSource">
      <level value="debug" />
   </logger>

    <logger name="com.ibatis.common.jdbc.ScriptRunner">
       <level value="debug" />
    </logger>

    <logger name="com.ibatis.common.jdbc.SqlMapClientDelegate">
      <level value="debug" />
    </logger>

    <logger name="java.sql.Connection">
      <level value="debug" />
    </logger>

    <logger name="java.sql.Statement">
       <level value="debug" />
    </logger>

    <logger name="java.sql.PreparedStatement">
       <level value="debug" />
    </logger>

    <logger name="java.sql.ResultSet">
      <level value="ERROR" />
    </logger>

   <root>
       <level value="DEBG" />
       <appender-ref ref="STDOUT" />
       <appender-ref ref="BPOUT" />
   </root>
</configuration>